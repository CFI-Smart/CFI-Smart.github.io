<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CODE DEFENDER - Jogo de Ciberseguran√ßa</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            background: #0a0a0a;
            color: #00ff00;
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 40, 0, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 60, 0, 0.1) 0%, transparent 20%);
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 10px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            gap: 10px;
        }
        
        header {
            text-align: center;
            padding: 10px 0;
            border-bottom: 1px solid #00ff00;
            margin-bottom: 10px;
        }
        
        h1 {
            font-size: clamp(1.5rem, 6vw, 2.8rem);
            text-shadow: 0 0 15px #00ff00;
            margin-bottom: 5px;
            letter-spacing: 2px;
        }
        
        .subtitle {
            color: #00cc00;
            font-size: clamp(0.8rem, 3vw, 1.1rem);
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex: 1;
        }
        
        .hacking-interface {
            background: rgba(10, 20, 10, 0.8);
            border: 1px solid #00ff00;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
            min-height: 300px;
        }
        
        .network-map {
            background: rgba(10, 20, 10, 0.8);
            border: 1px solid #00ff00;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
            min-height: 400px;
        }
        
        .panel-title {
            color: #00ff00;
            font-size: clamp(1rem, 4vw, 1.2rem);
            margin-bottom: 12px;
            text-align: center;
            border-bottom: 1px solid #00cc00;
            padding-bottom: 5px;
        }
        
        .code-terminal {
            background: #001100;
            border: 1px solid #003300;
            border-radius: 5px;
            padding: 12px;
            flex: 1;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            line-height: 1.3;
            margin-bottom: 12px;
            max-height: 200px;
        }
        
        .terminal-line {
            margin-bottom: 6px;
            animation: typewriter 0.1s;
            word-break: break-word;
        }
        
        .command-input {
            display: flex;
            margin-top: 8px;
            align-items: center;
        }
        
        .prompt {
            color: #00ff00;
            margin-right: 8px;
            white-space: nowrap;
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
        }
        
        #command {
            background: transparent;
            border: none;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            flex: 1;
            outline: none;
            padding: 5px 0;
        }
        
        .tools {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-top: 12px;
        }
        
        .tool {
            background: rgba(0, 40, 0, 0.7);
            border: 1px solid #00aa00;
            border-radius: 5px;
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .tool:hover {
            background: rgba(0, 60, 0, 0.9);
            border-color: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }
        
        .tool-icon {
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            margin-bottom: 4px;
        }
        
        .tool-name {
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            color: #00cc00;
        }
        
        .network-nodes {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            flex: 1;
        }
        
        .node {
            background: rgba(0, 30, 0, 0.7);
            border: 1px solid #005500;
            border-radius: 8px;
            padding: 12px 8px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .node:hover {
            border-color: #00ff00;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
        }
        
        .node-icon {
            font-size: clamp(1.5rem, 5vw, 2rem);
            margin-bottom: 6px;
        }
        
        .node-name {
            font-size: clamp(0.8rem, 3vw, 1rem);
            margin-bottom: 4px;
        }
        
        .node-difficulty {
            font-size: clamp(0.6rem, 2.5vw, 0.8rem);
            color: #ffaa00;
        }
        
        .node-progress {
            height: 4px;
            background: #003300;
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00aa00, #00ff00);
            border-radius: 3px;
            width: 0%;
            transition: width 0.5s;
        }
        
        .firewall {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .node.breached .firewall {
            opacity: 0;
        }
        
        .node.defended .firewall {
            opacity: 1;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 12px;
        }
        
        .stat-box {
            background: rgba(0, 30, 0, 0.7);
            border: 1px solid #005500;
            border-radius: 5px;
            padding: 8px 4px;
            text-align: center;
        }
        
        .stat-value {
            font-size: clamp(1.2rem, 4vw, 1.8rem);
            font-weight: bold;
            color: #00ff00;
            margin: 3px 0;
        }
        
        .stat-name {
            font-size: clamp(0.6rem, 2.5vw, 0.9rem);
            color: #00aa00;
        }
        
        .alerts {
            background: rgba(30, 0, 0, 0.7);
            border: 1px solid #ff0000;
            border-radius: 5px;
            padding: 8px;
            margin-top: 12px;
            min-height: 50px;
            max-height: 80px;
            overflow-y: auto;
        }
        
        .alert {
            color: #ff5555;
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            margin-bottom: 4px;
            padding: 3px;
            border-left: 2px solid #ff0000;
            background: rgba(255, 0, 0, 0.1);
        }
        
        .message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 20, 0, 0.98);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            z-index: 100;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 0 50px rgba(0, 255, 0, 0.5);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .message h2 {
            margin-bottom: 15px;
            color: #00ff00;
            font-size: clamp(1.3rem, 5vw, 1.8rem);
        }
        
        .message p {
            margin-bottom: 12px;
            line-height: 1.4;
            font-size: clamp(0.8rem, 3vw, 1rem);
        }
        
        .hidden {
            display: none;
        }
        
        .skill-tree {
            margin-top: 12px;
            background: rgba(0, 20, 0, 0.7);
            border: 1px solid #004400;
            border-radius: 5px;
            padding: 8px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 6px;
        }
        
        .skill {
            background: rgba(0, 40, 0, 0.7);
            border: 1px solid #006600;
            border-radius: 5px;
            padding: 8px 6px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
        }
        
        .skill:hover {
            border-color: #00ff00;
            background: rgba(0, 60, 0, 0.9);
        }
        
        .skill.unlocked {
            background: rgba(0, 80, 0, 0.9);
            border-color: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }
        
        .skill.locked {
            background: rgba(40, 0, 0, 0.7);
            border-color: #660000;
            color: #666;
        }
        
        .mobile-controls {
            display: none;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 10px;
        }
        
        .mobile-btn {
            background: rgba(0, 40, 0, 0.7);
            border: 1px solid #00aa00;
            border-radius: 5px;
            padding: 10px;
            text-align: center;
            color: #00ff00;
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .mobile-btn:active {
            background: rgba(0, 60, 0, 0.9);
            transform: scale(0.95);
        }
        
        @keyframes typewriter {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 5px #00ff00; }
            50% { box-shadow: 0 0 20px #00ff00; }
            100% { box-shadow: 0 0 5px #00ff00; }
        }
        
        @keyframes alertFlash {
            0% { background: rgba(255, 0, 0, 0.1); }
            50% { background: rgba(255, 0, 0, 0.3); }
            100% { background: rgba(255, 0, 0, 0.1); }
        }
        
        .hacking {
            animation: pulse 0.5s infinite;
        }
        
        .alert-flash {
            animation: alertFlash 1s infinite;
        }
        
        .firewall-breached {
            animation: firewallBreach 0.5s;
        }
        
        @keyframes firewallBreach {
            0% { background: rgba(255, 0, 0, 0.7); }
            100% { background: rgba(0, 255, 0, 0.3); }
        }
        
        /* Media Queries para responsividade */
        @media (min-width: 768px) {
            .container {
                padding: 15px;
                gap: 15px;
            }
            
            .game-area {
                flex-direction: row;
            }
            
            .hacking-interface {
                flex: 2;
                min-height: 500px;
            }
            
            .network-map {
                flex: 1;
                min-height: 500px;
            }
            
            .tools {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .network-nodes {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .code-terminal {
                max-height: 250px;
            }
        }
        
        @media (min-width: 1024px) {
            .container {
                max-width: 1200px;
                padding: 20px;
            }
            
            .code-terminal {
                max-height: 300px;
            }
        }
        
        @media (max-width: 480px) {
            .mobile-controls {
                display: grid;
            }
            
            .command-input {
                display: none;
            }
        }
        
        /* Melhorias para touch */
        @media (hover: none) {
            .tool:hover, .node:hover, .skill:hover {
                background: rgba(0, 40, 0, 0.7);
                border-color: #00aa00;
                box-shadow: none;
            }
            
            .tool:active, .node:active, .skill:active {
                background: rgba(0, 60, 0, 0.9);
                border-color: #00ff00;
                transform: scale(0.98);
            }
        }
        
        /* Scrollbar personalizada */
        ::-webkit-scrollbar {
            width: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #001100;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #00aa00;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #00ff00;
        }
        
        button {
            background: #003300;
            color: #00ff00;
            border: 1px solid #00ff00;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: clamp(0.8rem, 3vw, 1rem);
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        
        button:active {
            background: #005500;
            transform: scale(0.95);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>CODE DEFENDER</h1>
            <p class="subtitle">Sistema de Hacking √âtico - V3.1.7</p>
        </header>
        
        <div class="game-area">
            <div class="hacking-interface">
                <div class="panel-title">TERMINAL DE HACKING</div>
                <div class="code-terminal" id="terminal">
                    <div class="terminal-line">> Inicializando sistema de hacking...</div>
                    <div class="terminal-line">> Carregando m√≥dulos de seguran√ßa...</div>
                    <div class="terminal-line">> Conectando √† rede alvo...</div>
                    <div class="terminal-line success">> Sistema pronto. Toque em um n√≥ para come√ßar.</div>
                </div>
                
                <div class="command-input">
                    <div class="prompt">hacker@root:~$</div>
                    <input type="text" id="command" autocomplete="off" placeholder="Digite um comando...">
                </div>
                
                <div class="mobile-controls">
                    <div class="mobile-btn" data-command="scan">SCAN</div>
                    <div class="mobile-btn" data-command="exploit">EXPLOIT</div>
                    <div class="mobile-btn" data-command="crack">CRACK</div>
                    <div class="mobile-btn" data-command="stealth">STEALTH</div>
                    <div class="mobile-btn" data-command="status">STATUS</div>
                    <div class="mobile-btn" data-command="help">HELP</div>
                </div>
                
                <div class="tools">
                    <div class="tool" id="scanner">
                        <div class="tool-icon">üîç</div>
                        <div class="tool-name">Scanner</div>
                    </div>
                    <div class="tool" id="exploit">
                        <div class="tool-icon">‚ö°</div>
                        <div class="tool-name">Exploit</div>
                    </div>
                    <div class="tool" id="firewallCracker">
                        <div class="tool-icon">üî•</div>
                        <div class="tool-name">Firewall Crack</div>
                    </div>
                    <div class="tool" id="stealth">
                        <div class="tool-icon">üëª</div>
                        <div class="tool-name">Stealth Mode</div>
                    </div>
                </div>
                
                <div class="skill-tree">
                    <div class="skill" id="skillBrute">Brute Force</div>
                    <div class="skill locked" id="skillSQL">SQL Injection</div>
                    <div class="skill locked" id="skillDDoS">DDoS Attack</div>
                    <div class="skill locked" id="skillZeroDay">Zero-Day Exploit</div>
                </div>
            </div>
            
            <div class="network-map">
                <div class="panel-title">MAPA DA REDE ALVO</div>
                <div class="network-nodes">
                    <div class="node" id="node1">
                        <div class="node-icon">üñ•Ô∏è</div>
                        <div class="node-name">Servidor Web</div>
                        <div class="node-difficulty">Dificuldade: Baixa</div>
                        <div class="node-progress">
                            <div class="progress-fill" id="progress1"></div>
                        </div>
                        <div class="firewall">üîí</div>
                    </div>
                    
                    <div class="node" id="node2">
                        <div class="node-icon">üíæ</div>
                        <div class="node-name">Database</div>
                        <div class="node-difficulty">Dificuldade: M√©dia</div>
                        <div class="node-progress">
                            <div class="progress-fill" id="progress2"></div>
                        </div>
                        <div class="firewall">üîí</div>
                    </div>
                    
                    <div class="node" id="node3">
                        <div class="node-icon">üîê</div>
                        <div class="node-name">Servidor Seguro</div>
                        <div class="node-difficulty">Dificuldade: Alta</div>
                        <div class="node-progress">
                            <div class="progress-fill" id="progress3"></div>
                        </div>
                        <div class="firewall">üîí</div>
                    </div>
                    
                    <div class="node" id="node4">
                        <div class="node-icon">üìß</div>
                        <div class="node-name">Servidor de Email</div>
                        <div class="node-difficulty">Dificuldade: Baixa</div>
                        <div class="node-progress">
                            <div class="progress-fill" id="progress4"></div>
                        </div>
                        <div class="firewall">üîí</div>
                    </div>
                    
                    <div class="node" id="node5">
                        <div class="node-icon">üõ°Ô∏è</div>
                        <div class="node-name">Firewall Central</div>
                        <div class="node-difficulty">Dificuldade: Muito Alta</div>
                        <div class="node-progress">
                            <div class="progress-fill" id="progress5"></div>
                        </div>
                        <div class="firewall">üîí</div>
                    </div>
                    
                    <div class="node" id="node6">
                        <div class="node-icon">üí∞</div>
                        <div class="node-name">Servidor Financeiro</div>
                        <div class="node-difficulty">Dificuldade: Extrema</div>
                        <div class="node-progress">
                            <div class="progress-fill" id="progress6"></div>
                        </div>
                        <div class="firewall">üîí</div>
                    </div>
                </div>
                
                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-name">REPUTA√á√ÉO</div>
                        <div class="stat-value" id="reputation">100</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-name">BITCOINS</div>
                        <div class="stat-value" id="bitcoins">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-name">SISTEMAS INVADIDOS</div>
                        <div class="stat-value" id="hacked">0/6</div>
                    </div>
                </div>
                
                <div class="alerts" id="alerts">
                    <div class="alert">Sistema de detec√ß√£o de intrusos ativado</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="message" id="startMessage">
        <h2>CODE DEFENDER</h2>
        <p>Voc√™ √© um hacker √©tico contratado para testar a seguran√ßa de uma corpora√ß√£o.</p>
        <p><strong>Objetivo:</strong> Invada todos os 6 sistemas sem ser detectado.</p>
        <p><strong>Como jogar:</strong></p>
        <p>‚Ä¢ Toque nos n√≥s da rede para selecionar alvos</p>
        <p>‚Ä¢ Use as ferramentas ou bot√µes para a√ß√µes</p>
        <p>‚Ä¢ Monitore sua reputa√ß√£o e detec√ß√£o</p>
        <button id="startGameButton">INICIAR MISS√ÉO</button>
    </div>
    
    <div class="message hidden" id="gameOverMessage">
        <h2>MISS√ÉO FALHADA</h2>
        <p>Sua identidade foi rastreada e voc√™ foi preso!</p>
        <p>Sistemas invadidos: <span id="finalHacked">0</span>/6</p>
        <p>Reputa√ß√£o final: <span id="finalRep">0</span></p>
        <button id="restartButton">TENTAR NOVAMENTE</button>
    </div>
    
    <div class="message hidden" id="winMessage">
        <h2>MISS√ÉO CONCLU√çDA</h2>
        <p>Voc√™ invadiu todos os sistemas com sucesso!</p>
        <p>Reputa√ß√£o final: <span id="winRep">0</span></p>
        <p>Bitcoins adquiridos: <span id="winBitcoins">0</span></p>
        <button id="winRestartButton">JOGAR NOVAMENTE</button>
    </div>

    <script>
        // Detectar dispositivo m√≥vel
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // Elementos do DOM
        const terminal = document.getElementById('terminal');
        const commandInput = document.getElementById('command');
        const startMessage = document.getElementById('startMessage');
        const startGameButton = document.getElementById('startGameButton');
        const gameOverMessage = document.getElementById('gameOverMessage');
        const winMessage = document.getElementById('winMessage');
        const restartButton = document.getElementById('restartButton');
        const winRestartButton = document.getElementById('winRestartButton');
        const reputationElement = document.getElementById('reputation');
        const bitcoinsElement = document.getElementById('bitcoins');
        const hackedElement = document.getElementById('hacked');
        const alertsContainer = document.getElementById('alerts');
        const nodes = document.querySelectorAll('.node');
        const progressBars = document.querySelectorAll('.progress-fill');
        const tools = document.querySelectorAll('.tool');
        const skills = document.querySelectorAll('.skill');
        const mobileControls = document.querySelectorAll('.mobile-btn');

        // Estado do jogo
        let gameState = {
            running: false,
            reputation: 100,
            bitcoins: 0,
            hackedSystems: 0,
            totalSystems: 6,
            currentTarget: null,
            stealthMode: false,
            detectionLevel: 0,
            skills: {
                brute: false,
                sql: false,
                ddos: false,
                zeroDay: false
            },
            nodeProgress: [0, 0, 0, 0, 0, 0],
            nodeDifficulty: [30, 50, 70, 30, 90, 100],
            nodeFirewall: [true, true, true, true, true, true],
            alerts: []
        };

        // Inicializa√ß√£o
        function init() {
            startGameButton.addEventListener('click', startGame);
            restartButton.addEventListener('click', restartGame);
            winRestartButton.addEventListener('click', restartGame);
            
            // Evento de comando para desktop
            commandInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    processCommand(this.value);
                    this.value = '';
                }
            });
            
            // Eventos para controles m√≥veis
            mobileControls.forEach(btn => {
                btn.addEventListener('click', function() {
                    const command = this.getAttribute('data-command');
                    processCommand(command);
                });
            });
            
            // Adicionar eventos aos n√≥s
            nodes.forEach((node, index) => {
                node.addEventListener('click', () => selectNode(index));
            });
            
            // Adicionar eventos √†s ferramentas
            tools.forEach(tool => {
                tool.addEventListener('click', function() {
                    const toolId = this.id;
                    useTool(toolId);
                });
            });
            
            // Adicionar eventos √†s habilidades
            skills.forEach(skill => {
                skill.addEventListener('click', function() {
                    const skillId = this.id.replace('skill', '').toLowerCase();
                    unlockSkill(skillId);
                });
            });
            
            // Ajustar interface para mobile
            if (isMobile) {
                document.querySelector('.command-input').style.display = 'none';
                document.querySelector('.mobile-controls').style.display = 'grid';
            }
            
            // Mostrar mensagem inicial
            startMessage.classList.remove('hidden');
        }

        // Iniciar o jogo
        function startGame() {
            startMessage.classList.add('hidden');
            gameOverMessage.classList.add('hidden');
            winMessage.classList.add('hidden');
            
            gameState = {
                running: true,
                reputation: 100,
                bitcoins: 0,
                hackedSystems: 0,
                totalSystems: 6,
                currentTarget: null,
                stealthMode: false,
                detectionLevel: 0,
                skills: {
                    brute: true,
                    sql: false,
                    ddos: false,
                    zeroDay: false
                },
                nodeProgress: [0, 0, 0, 0, 0, 0],
                nodeDifficulty: [30, 50, 70, 30, 90, 100],
                nodeFirewall: [true, true, true, true, true, true],
                alerts: []
            };
            
            updateUI();
            addTerminalMessage("Sistema de hacking ativado. Toque em um n√≥ no mapa para selecionar alvo.", "info");
            
            // Iniciar loop do jogo
            gameLoop();
        }

        // Loop principal do jogo (restante do c√≥digo permanece igual)
        function gameLoop() {
            if (!gameState.running) return;
            
            if (!gameState.stealthMode && Math.random() < 0.1) {
                gameState.detectionLevel += 1;
                
                if (gameState.detectionLevel > 50) {
                    addAlert("Sistema de detec√ß√£o rastreando sua localiza√ß√£o!");
                }
                
                if (gameState.detectionLevel > 80) {
                    addAlert("ALERTA CR√çTICO: Sua conex√£o est√° sendo rastreada!");
                }
                
                if (gameState.detectionLevel >= 100) {
                    gameOver();
                    return;
                }
            }
            
            if (Math.random() < 0.05) {
                randomEvent();
            }
            
            if (gameState.stealthMode) {
                gameState.detectionLevel = Math.max(0, gameState.detectionLevel - 2);
                gameState.bitcoins = Math.max(0, gameState.bitcoins - 0.1);
                updateUI();
            }
            
            setTimeout(gameLoop, 1000);
        }

        // Processar comandos do terminal
        function processCommand(cmd) {
            if (!gameState.running) return;
            
            cmd = cmd.trim().toLowerCase();
            addTerminalMessage(`> ${cmd}`, "command");
            
            switch(cmd) {
                case 'help':
                    if (isMobile) {
                        addTerminalMessage("Comandos: SCAN, EXPLOIT, CRACK, STEALTH, STATUS", "info");
                    } else {
                        addTerminalMessage("Comandos: scan, exploit, crack, stealth, status, help", "info");
                    }
                    break;
                    
                case 'scan':
                    if (gameState.currentTarget === null) {
                        addTerminalMessage("Erro: Nenhum alvo selecionado. Toque em um n√≥ no mapa.", "error");
                    } else {
                        scanSystem();
                    }
                    break;
                    
                case 'exploit':
                    if (gameState.currentTarget === null) {
                        addTerminalMessage("Erro: Nenhum alvo selecionado.", "error");
                    } else {
                        exploitSystem();
                    }
                    break;
                    
                case 'crack':
                    if (gameState.currentTarget === null) {
                        addTerminalMessage("Erro: Nenhum alvo selecionado.", "error");
                    } else {
                        crackFirewall();
                    }
                    break;
                    
                case 'stealth':
                    toggleStealth();
                    break;
                    
                case 'status':
                    showStatus();
                    break;
                    
                default:
                    addTerminalMessage(`Comando n√£o reconhecido: ${cmd}`, "error");
                    addTerminalMessage("Use HELP para ver comandos dispon√≠veis.", "info");
            }
        }

        // Selecionar um n√≥ como alvo
        function selectNode(index) {
            if (!gameState.running) return;
            
            gameState.currentTarget = index;
            nodes.forEach(node => node.classList.remove('hacking'));
            nodes[index].classList.add('hacking');
            
            const nodeNames = [
                "Servidor Web", 
                "Database", 
                "Servidor Seguro", 
                "Servidor de Email", 
                "Firewall Central", 
                "Servidor Financeiro"
            ];
            
            addTerminalMessage(`Alvo selecionado: ${nodeNames[index]}`, "success");
        }

        // Usar uma ferramenta
        function useTool(toolId) {
            if (!gameState.running) return;
            
            if (gameState.currentTarget === null) {
                addTerminalMessage("Erro: Selecione um alvo primeiro.", "error");
                return;
            }
            
            const toolEffects = {
                'scanner': () => {
                    addTerminalMessage("Executando scanner de vulnerabilidades...", "info");
                    setTimeout(() => {
                        const vulnerabilities = Math.floor(Math.random() * 5) + 1;
                        addTerminalMessage(`Encontradas ${vulnerabilities} vulnerabilidades.`, "success");
                        gameState.nodeProgress[gameState.currentTarget] += 10;
                        updateProgressBar();
                    }, 1500);
                },
                'exploit': () => {
                    if (!gameState.nodeFirewall[gameState.currentTarget]) {
                        addTerminalMessage("Explorando vulnerabilidades...", "info");
                        setTimeout(() => {
                            const success = Math.random() * 100 < (50 + gameState.nodeProgress[gameState.currentTarget]);
                            if (success) {
                                addTerminalMessage("Sistema comprometido com sucesso!", "success");
                                hackSystem();
                            } else {
                                addTerminalMessage("Explora√ß√£o falhou. Sistema refor√ßou suas defesas.", "error");
                                gameState.detectionLevel += 10;
                            }
                        }, 2000);
                    } else {
                        addTerminalMessage("Erro: Firewall ativo. Use CRACK primeiro.", "error");
                    }
                },
                'firewallCracker': () => {
                    addTerminalMessage("Iniciando quebra de firewall...", "info");
                    setTimeout(() => {
                        const success = Math.random() * 100 < (30 + gameState.skills.brute * 20);
                        
                        if (success) {
                            addTerminalMessage("Firewall comprometido!", "success");
                            gameState.nodeFirewall[gameState.currentTarget] = false;
                            nodes[gameState.currentTarget].classList.add('firewall-breached');
                            setTimeout(() => {
                                nodes[gameState.currentTarget].classList.remove('firewall-breached');
                            }, 1000);
                        } else {
                            addTerminalMessage("Falha ao quebrar firewall. Ativando alarmes...", "error");
                            gameState.detectionLevel += 15;
                            addAlert("Tentativa de quebra de firewall detectada!");
                        }
                    }, 2500);
                },
                'stealth': () => {
                    toggleStealth();
                }
            };
            
            if (toolEffects[toolId]) {
                toolEffects[toolId]();
                gameState.detectionLevel += 5;
            }
        }

        // Restante das fun√ß√µes permanecem iguais ao c√≥digo anterior
        // (scanSystem, exploitSystem, crackFirewall, toggleStealth, showStatus, hackSystem, unlockSkill, randomEvent, updateUI, updateProgressBar, addTerminalMessage, addAlert, gameOver, victory, restartGame)

        // Inicializar o jogo quando a p√°gina carregar
        window.addEventListener('load', init);
        
        // Prevenir zoom em double-tap para mobile
        document.addEventListener('touchend', function(e) {
            if (e.touches && e.touches.length < 2) {
                e.preventDefault();
            }
        }, { passive: false });
        
        // Prevenir menu de contexto em mobile
        document.addEventListener('contextmenu', function(e) {
            if (isMobile) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
